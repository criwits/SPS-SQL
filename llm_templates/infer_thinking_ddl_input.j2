{% if have_examples %}Analyze the given question and generate an SQL which matches it. The schema information of the database is provided to you, and some example pairs of questions and corresponding SQL queries are provided based on similar questions. Show your thinking process and output the SQL query.{% else %}Analyze the given question and generate an SQL which matches it. The schema information of the database is provided to you. Show your thinking process and output the SQL query.{% endif %}

SQLite tables are defined as follows:

```sql
{% for ddl in ddls %}{{ ddl }}
{% endfor %}```

{% if have_examples %}Some example pairs of questions and corresponding SQL queries are provided based on similar questions.

{% for sample in examples %}- Question: {{ sample[0] }}
  {{ sample[1] }}

{% endfor %}{% endif %}Question: {{ question }}
